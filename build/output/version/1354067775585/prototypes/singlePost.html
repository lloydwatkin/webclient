<!doctype html>
<html lang="en">
<head>
  <title>Vera on buddycloud</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="/css/main.css" type="text/css" media="screen">
  <script src="/js/vendor/jquery.js"></script>
  <script src="/js/vendor/modernizr.js"></script>
</head>
<body>
  <div class="content singlePost">
    <div class="stupidFirefoxFlexBoxBug centered stretchWidth stretchHeight vertical">
      <div class="channelView">
        <section class="stream">
          <section class="posts">
            <article class="post">
              <section class="opener">
                <img class="avatar" src="avatars/user2.jpg" />
                <div class="postmeta">
                  <time class="ago" data-strftime="%d.%m.%Y %H:%M" data-strftitle="%A %d %B %Y %H:%M" datetime="2011-06-06T05:06:00.000Z" title="5:06pm 06.06.2011">3 days</time>
                  <div class="share">
                    <span class="action">â–¼</span>
                    <div class="popup centered vertical">
                      <div class="arrow"></div>
                      <ul>
                        <li class="permalink">Link to this Post
                        <li class="email"><a href="mailto:?body=$url">Share via Email</a>
                        <li>
                          <div class="justify">
                            <a class="social twitter" href="https://twitter.com/share?url=$url" title="Tweet about it">Tweet about it</a>
                            <a class="social gplus" href="https://plus.google.com/share?url=$url" title="Plus it">Google+ it</a>
                            <a class="social facebook" href="http://www.facebook.com/sharer.php?u=$url" title="Like it on Facebook">Like it on Facebook</a>
                            <a class="social reddit" href="http://www.reddit.com/submit?url=$url" title="Share on Reddit">Share on Reddit</a>
                            <a class="social tumblr" href="http://www.tumblr.com/share" title="Share on Tumblr">Share on Tumblr</a>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
                <span class="name" title="vera@buddycloud.org">Vera</span>
                <p>Pretend. You pretend the feelings are there, for the world, for the people around you.</p>
              </section>
              <section class="comments">
                <section class="comment">
                  <img class="avatar" src="avatars/user6.jpg" />
                  <div class="postmeta">
                    <time data-strftime="%d.%m.%Y %H:%M" data-strftitle="%A %d %B %Y %H:%M" datetime="2011-06-06T05:06:00.000Z" title="5:06pm 06.06.2011">3 days</time>
                  </div>
                  <span class="name" title="mona@buddycloud.org">Mona</span>
                  <p>Who knows? Maybe one day they will be. I like seafood.</p>
                </section>
                <section class="comment">
                  <img class="avatar" src="avatars/user7.jpg" />
                  <div class="postmeta">
                    <time data-strftime="%d.%m.%Y %H:%M" data-strftitle="%A %d %B %Y %H:%M" datetime="2011-06-06T05:06:00.000Z" title="5:06pm 06.06.2011">3 days</time>
                  </div>
                  <span class="name" title="verena@buddycloud.org">Verena</span>
                  <p>Finding a needle in a haystack isn't hard when every straw is computerized. I'm really more an apartment person.</p>
                </section>
                <section class="comment">
                  <img class="avatar" src="avatars/user11.jpg" />
                  <div class="postmeta">
                    <time data-strftime="%d.%m.%Y %H:%M" data-strftitle="%A %d %B %Y %H:%M" datetime="2011-06-06T05:06:00.000Z" title="5:06pm 06.06.2011">3 days</time>
                  </div>
                  <span class="name" title="betty@buddycloud.org">Betty</span>
                  <p>I feel like a jigsaw puzzle missing a piece. And I'm not even sure what the picture should be.</p>
                </section>
                <section class="comment">
                  <img class="avatar" src="avatars/user13.jpg" />
                  <div class="postmeta">
                    <time data-strftime="%d.%m.%Y %H:%M" data-strftitle="%A %d %B %Y %H:%M" datetime="2011-06-06T05:06:00.000Z" title="5:06pm 06.06.2011">3 days</time>
                  </div>
                  <span class="name" title="daniel@buddycloud.org">Daniel</span>
                  <p>I'm going to tell you something that I've never told anyone before.</p>
                </section>
                <!--<section class="answer">
                  <img class="avatar" src="avatars/user1.jpg" />
                  <div class="expanding area"><textarea placeholder="comment"></textarea></div>
                  <div class="controls clearfix">
                    <div class="hint">ctrl + enter to post</div>
                    <div class="button callToAction createComment">Post</div>
                  </div>
                </section>-->
              </section>
            </article>
          </section>
        </section><!-- /stream -->
        <div class="join button callToAction stickToTop">Sign-up / Join buddycloud</div>
      </div><!-- /channelView -->
      <div class="joinBuddycloud">
        <nav class="clearfix">
          <a class="active signup" data-subview="signup">Sign-Up</a>
          <a class="login" data-subview="login">Login</a>
        </nav>
        <h3>Join buddycloud to take part in this conversation!</h3>
        <form class="clearfix login subview-register">
          <div class="horizontal fit">
            <div>
              <label for="auth_name">Username</label>
              <input type="text" id="auth_name" class="small" name="name" required="required" autofocus="autofocus">
            </div>
            <div>
              <label for="auth_pwd">Password</label>
              <input type="password" id="auth_pwd" class="small" name="password" required="required">
            </div>
            <div class="email">
              <label for="auth_email">Email</label>
              <input id="auth_email" class="small" type="email">
            </div>
          </div>
          <button type="submit" id="auth_submit" class="left callToAction">Join buddycloud</button>
        </form>
      </div>
    </div>
  </div><!-- /content -->
  <script>
    /* ###

      Slidedown Signup/Login Form

      ### */
    var container = $('.singlePost');
    var trigger = $('.join.button');
    
    trigger
      .mousedown(function(){ container.addClass('action-pressed'); })
      .mouseup(function(){ container.removeClass('action-pressed'); })
      .click(function(){ 
        container.addClass('action-open');
        $('input').first().focus();
      });
      
    /* ###

      Signup/Login Tabs

      ### */
    var form = $('form');
    var currentSubview = "register";
    var joinButton = $('#auth_submit');
    var joinText = joinButton.text();
    
    $('nav a').click(function(){
      $(this).addClass('active').siblings('.active').removeClass('active');
      
      form.removeClass('subview-'+currentSubview);
      currentSubview = $(this).data('subview');
      form.addClass('subview-'+currentSubview);
      
      // specifics
      if(currentSubview === 'login'){
        joinButton.text('Login to buddycloud');
        $('form > div').removeClass('fit');
      } else {
        joinButton.text(joinText);
        $('form > div').addClass('fit');
      }  
      
      $('input').first().focus();
    });
    
    /* ###

      answer input animation

      ### */
    var answer = $('.answer');

    function openArea(event){
      // prevent bubbling!
      event.stopPropagation();
      if(!$(this).hasClass('write')){
        $(this).addClass('write');
        $(document).one('click', {self: this}, closeArea);
      }
    }

    function closeArea(event){
      var self = event.data.self;
      var textarea = $(self).find('textarea');
      // minimize the textarea only if the textarea is empty
      if(textarea.val() === ""){
        $(self).removeClass('write');
      }
    }
    
    answer.click(openArea);
    
    /* ###

      share popup mockup

      ### */
      
    $('.action').click(function(event){
      event.stopPropagation();
      var popup = $(this).next('.popup');
      
      if(popup.hasClass('visible')){
        // close popup
        popup.removeClass('visible');
      } else {
        // open popup
        popup.addClass('visible');
        $(document).one('click', { popup: popup }, closePopup);
      }
    });
    
    $('.popup').click(function(event){ event.stopPropagation(); });
    
    function closePopup(event){
      $(event.data.popup).removeClass('visible');
    }
  </script>
</body>
</html>
